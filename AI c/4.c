#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main() {
    // 1. è®¾ç½®éšæœºæ•°ç§å­ï¼Œç¡®ä¿æ¯æ¬¡è¿è¡Œç”Ÿæˆçš„éšæœºæ•°éƒ½ä¸åŒ
    srand((unsigned int)time(NULL));
    // 2. ç”Ÿæˆ1åˆ°100ä¹‹é—´çš„éšæœºæ•°ï¼ˆrand()%100 ç”Ÿæˆ0-99ï¼Œ+1åå˜æˆ1-100ï¼‰
    int secret_number = rand() % 100 + 1;
    // 3. å®šä¹‰ç”¨æˆ·çŒœæµ‹çš„æ•°å­—å’ŒçŒœæµ‹æ¬¡æ•°
    int guess;
    int guess_count = 0;

    // æ¸¸æˆæ¬¢è¿è¯­
    printf("=========================\n");
    printf("    Cè¯­è¨€çŒœæ•°å­—æ¸¸æˆ     \n");
    printf("=========================\n");
    printf("æˆ‘å·²ç»ç”Ÿæˆäº†ä¸€ä¸ª1åˆ°100ä¹‹é—´çš„éšæœºæ•°ï¼Œè¯·å¼€å§‹çŒœæµ‹å§ï¼\n\n");

    // 4. å¾ªç¯è®©ç”¨æˆ·çŒœæµ‹ï¼Œç›´åˆ°çŒœå¯¹ä¸ºæ­¢
    while (1) {
        printf("è¯·è¾“å…¥ä½ çš„çŒœæµ‹ï¼ˆ1-100ï¼‰ï¼š");
        // æ£€æŸ¥è¾“å…¥æ˜¯å¦æœ‰æ•ˆï¼ˆé˜²æ­¢ç”¨æˆ·è¾“å…¥éæ•°å­—ï¼‰
        if (scanf("%d", &guess) != 1) {
            printf("è¾“å…¥é”™è¯¯ï¼è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ï¼\n");
            // æ¸…ç©ºè¾“å…¥ç¼“å†²åŒºï¼Œé¿å…æ— æ•ˆè¾“å…¥å¯¼è‡´æ­»å¾ªç¯
            while (getchar() != '\n');
            continue;
        }

        guess_count++; // æ¯çŒœä¸€æ¬¡ï¼Œæ¬¡æ•°åŠ 1

        // 5. åˆ¤æ–­çŒœæµ‹ç»“æœ
        if (guess < secret_number) {
            printf("ä½ çŒœå°äº†ï¼å†è¯•è¯•ï½\n\n");
        } else if (guess > secret_number) {
            printf("ä½ çŒœå¤§äº†ï¼å†è¯•è¯•ï½\n\n");
        } else {
            // çŒœå¯¹äº†ï¼Œé€€å‡ºå¾ªç¯å¹¶æ˜¾ç¤ºç»“æœ
            printf("\nğŸ‰ æ­å–œä½ çŒœå¯¹äº†ï¼ç­”æ¡ˆå°±æ˜¯ %dï¼\n", secret_number);
            printf("ä½ ä¸€å…±çŒœäº† %d æ¬¡ã€‚\n", guess_count);
            break;
        }
    }

    printf("\næ¸¸æˆç»“æŸï¼Œæ„Ÿè°¢å‚ä¸ï¼\n");
    return 0;
}